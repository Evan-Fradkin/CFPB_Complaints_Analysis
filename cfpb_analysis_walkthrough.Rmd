---
title: "Analysis_Walkthrough"
author: "Evan Fradkin"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
### Read in the data
```{r}
library(tidyverse)
library(janitor)
library(dtplyr)

# Read in the data
complaints <- read_csv("complaints_2020.csv")

# Organize the column names into an easier format to type e.g. snake_case
complaints <- complaints %>% janitor::clean_names()

```

## A few initial questions to ask might be which companies receive the most complainst and what products receive the most complaints

### Unsuprisingly, Equifax and Experian have the most consumer complaints. One reason behind this might be that, with Transunion, Equifax and Experian dominate the credit rating market and as consequence almost all of the United States interacts with these comapnies in some form. We can also see that an expansive product category which includes credit monitoring has the monst complaints.  


We can also see that mortgages are mentioned most in the complaints. This might be happening because taking out a mortgages is one of the most important financial decisions people make. Coming in second place in the product category is an expansive category which includes credit monitoring which lines up with the idea that people are upset about Experian et. al leaking their data.  

```{r}
# Which companies had the most complaints
complaints %>% 
        count(company, sort = TRUE) %>% 
        head(5) %>% 
        mutate(company = fct_reorder(company, n)) %>% 
        ggplot(aes(company, n)) +
        geom_col() +
        coord_flip()

# Which products do consumers complain about the most 

complaints %>% 
        count(product, sort = TRUE) %>% 
        head(5) %>% 
        mutate(product = fct_reorder(product, n)) %>% 
        ggplot(aes(product, n)) +
        geom_col() +
        coord_flip()


complaints %>% 
        filter(!is.na(consumer_complaint_narrative))



```

## 








